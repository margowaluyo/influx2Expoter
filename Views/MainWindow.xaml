<Window x:Class="influx2Exporter.Views.MainWindow"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
 Title="InfluxDB2 Exporter - Configuration"
 Height="792" Width="1440"
 WindowStartupLocation="CenterScreen"
 Background="#1f1f1f"
 FontFamily="Segoe UI"
 WindowStyle="SingleBorderWindow"
 ResizeMode="CanResize"
 KeyDown="Window_KeyDown">
 <Grid Margin="10" Background="#EEE9DD">
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <RowDefinition Height="2"/>
 <RowDefinition Height="*"/>
 </Grid.RowDefinitions>

 <!-- HEADER -->
 <Border Grid.Row="0" Background="#efede5" CornerRadius="3" Padding="8" BorderBrush="#C7C7C7" BorderThickness="1">
 <Grid>
 <Grid.ColumnDefinitions>
 <ColumnDefinition Width="400"/>
 <ColumnDefinition Width="*"/>
 </Grid.ColumnDefinitions>

 <!-- Left title block (centered) -->
 <Border Background="#1F7A4D" CornerRadius="3" Padding="12" HorizontalAlignment="Stretch" VerticalAlignment="Center">
 <TextBlock Text="InfluxDB2 Exporter" Foreground="White" FontSize="36" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center"/>
 </Border>

 <!-- Right configuration area -->
 <Grid Grid.Column="1" Margin="16,0,0,0" VerticalAlignment="Center">
 <Grid.ColumnDefinitions>
 <!-- Host -->
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="180"/>
 <!-- Org -->
 <ColumnDefinition Width="12"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="180"/>
 <!-- Token -->
 <ColumnDefinition Width="12"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="Auto"/>
 <ColumnDefinition Width="260"/>
 <!-- filler -->
 <ColumnDefinition Width="*"/>
 <!-- Connect button on right -->
 <ColumnDefinition Width="Auto"/>
 </Grid.ColumnDefinitions>
 <Grid.RowDefinitions>
 <RowDefinition Height="Auto"/>
 <!-- row0: host/org/token -->
 <RowDefinition Height="6"/>
 <!-- spacer -->
 <RowDefinition Height="Auto"/>
 <!-- row2: port/bucket/status -->
 </Grid.RowDefinitions>

 <!-- Row0: Host, Org, Token -->
 <TextBlock Grid.Column="0" Grid.Row="0" FontFamily="Segoe MDL2 Assets" Text="&#xE774;" FontSize="14" VerticalAlignment="Center" Margin="0,0,6,0"/>
 <TextBlock Grid.Column="1" Grid.Row="0" Text="Host" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <TextBox Grid.Column="2" Grid.Row="0" Padding="4" MinWidth="160" Height="26" Text="{Binding Host, UpdateSourceTrigger=PropertyChanged}"/>

 <TextBlock Grid.Column="4" Grid.Row="0" FontFamily="Segoe MDL2 Assets" Text="&#xE716;" FontSize="14" VerticalAlignment="Center" Margin="12,0,6,0"/>
 <TextBlock Grid.Column="5" Grid.Row="0" Text="Org" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <TextBox Grid.Column="6" Grid.Row="0" Padding="4" MinWidth="160" Height="26" Text="{Binding Org, UpdateSourceTrigger=PropertyChanged}"/>

 <TextBlock Grid.Column="8" Grid.Row="0" FontFamily="Segoe MDL2 Assets" Text="&#xE192;" FontSize="14" VerticalAlignment="Center" Margin="12,0,6,0"/>
 <TextBlock Grid.Column="9" Grid.Row="0" Text="Token" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <TextBox Grid.Column="10" Grid.Row="0" Padding="4" MinWidth="260" Height="26" Text="{Binding Token, UpdateSourceTrigger=PropertyChanged}"/>

 <!-- Row2: Port, Bucket, Status -->
 <TextBlock Grid.Column="0" Grid.Row="2" FontFamily="Segoe MDL2 Assets" Text="&#xE71C;" FontSize="14" VerticalAlignment="Center" Margin="0,0,6,0"/>
 <TextBlock Grid.Column="1" Grid.Row="2" Text="Port" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <TextBox Grid.Column="2" Grid.Row="2" Padding="4" MinWidth="160" Height="26" Text="{Binding Port, UpdateSourceTrigger=PropertyChanged}"/>

 <TextBlock Grid.Column="4" Grid.Row="2" FontFamily="Segoe MDL2 Assets" Text="&#xE1DB;" FontSize="14" VerticalAlignment="Center" Margin="12,0,6,0"/>
 <TextBlock Grid.Column="5" Grid.Row="2" Text="Bucket" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <TextBox Grid.Column="6" Grid.Row="2" Padding="4" MinWidth="160" Height="26" Text="{Binding Bucket, UpdateSourceTrigger=PropertyChanged}"/>

 <!-- Status under token -->
 <TextBlock Grid.Column="8" Grid.Row="2" FontFamily="Segoe MDL2 Assets" Text="&#xE946;" FontSize="14" VerticalAlignment="Center" Margin="12,0,6,0"/>
 <TextBlock Grid.Column="9" Grid.Row="2" Text="Status" FontSize="13" VerticalAlignment="Center" Foreground="#222" Margin="0,0,6,0"/>
 <Border Grid.Column="10" Grid.Row="2" CornerRadius="4" Padding="8,3" BorderThickness="1" HorizontalAlignment="Left" MinWidth="180" MinHeight="26">
 <Border.Style>
 <Style TargetType="Border">
 <!-- Default: other/unknown errors -->
 <Setter Property="Background" Value="#BDBDBD"/>
 <Setter Property="BorderBrush" Value="#9E9E9E"/>
 <Style.Triggers>
 <!-- Default/disconnected when null or empty -->
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="{x:Null}">
 <Setter Property="Background" Value="#D50000"/>
 <Setter Property="BorderBrush" Value="#9B0000"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="">
 <Setter Property="Background" Value="#D50000"/>
 <Setter Property="BorderBrush" Value="#9B0000"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Disconnected">
 <Setter Property="Background" Value="#D50000"/>
 <Setter Property="BorderBrush" Value="#9B0000"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Fail">
 <Setter Property="Background" Value="#D50000"/>
 <Setter Property="BorderBrush" Value="#9B0000"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Failed">
 <Setter Property="Background" Value="#D50000"/>
 <Setter Property="BorderBrush" Value="#9B0000"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connecting">
 <Setter Property="Background" Value="#FF6D00"/>
 <Setter Property="BorderBrush" Value="#E65100"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connected">
 <Setter Property="Background" Value="#00C853"/>
 <Setter Property="BorderBrush" Value="#009624"/>
 </DataTrigger>
 </Style.Triggers>
 </Style>
 </Border.Style>
 <TextBlock Text="{Binding DisplayStatus, TargetNullValue=Disconnected, FallbackValue=Disconnected}" FontWeight="Bold" FontSize="13" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center">
 <TextBlock.Style>
 <Style TargetType="TextBlock">
 <!-- Default text color for grey background -->
 <Setter Property="Foreground" Value="Black"/>
 <Style.Triggers>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Disconnected">
 <Setter Property="Foreground" Value="White"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Fail">
 <Setter Property="Foreground" Value="White"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Failed">
 <Setter Property="Foreground" Value="White"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connecting">
 <Setter Property="Foreground" Value="White"/>
 </DataTrigger>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connected">
 <Setter Property="Foreground" Value="White"/>
 </DataTrigger>
 </Style.Triggers>
 </Style>
 </TextBlock.Style>
 </TextBlock>
 </Border>

 <!-- Connect button on the far right, vertically centered across the header rows -->
 <Button Grid.Column="12" Grid.Row="0" Grid.RowSpan="3"
 VerticalAlignment="Center" HorizontalAlignment="Right"
 Padding="14,8" FontSize="14" MinWidth="120" Height="34"
 Background="#0A84FF" Foreground="White" FontWeight="SemiBold"
 BorderBrush="#0A84FF" BorderThickness="0"
 Command="{Binding ConnectCommand}">
 <StackPanel Orientation="Horizontal">
 <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE71B;" FontSize="14" Margin="0,0,8,0"/>
 <TextBlock Text="Connect"/>
 </StackPanel>
 </Button>
 </Grid>
 </Grid>
 </Border>

 <!-- Separator -->
 <Border Grid.Row="1" Background="#C7C7C7"/>

 <!-- CONTENT -->
 <Border Grid.Row="2" Background="#F7F6F2" CornerRadius="3" Margin="0,8,0,0" BorderBrush="#D0D0D0" BorderThickness="1">
 <Grid>
 <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
 <Button Padding="22,10" Margin="0,0,0,12" FontSize="22" FontWeight="Bold" Foreground="White" Background="#FF7A2E" BorderThickness="0" Command="{Binding NewQueryCommand}">
 <Button.Style>
 <Style TargetType="Button">
 <Setter Property="IsEnabled" Value="False"/>
 <Style.Triggers>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connected">
 <Setter Property="IsEnabled" Value="True"/>
 </DataTrigger>
 </Style.Triggers>
 </Style>
 </Button.Style>
 <StackPanel Orientation="Horizontal">
 <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="20" Text="&#xE710;" Margin="0,0,8,0"/>
 <TextBlock Text="New Query"/>
 </StackPanel>
 </Button>

 <Button Padding="22,10" FontSize="20" FontWeight="SemiBold" Foreground="White" Background="#3A5C86" BorderThickness="0" Command="{Binding OpenTemplateCommand}">
 <Button.Style>
 <Style TargetType="Button">
 <Setter Property="IsEnabled" Value="False"/>
 <Style.Triggers>
 <DataTrigger Binding="{Binding ConnectionStatus}" Value="Connected">
 <Setter Property="IsEnabled" Value="True"/>
 </DataTrigger>
 </Style.Triggers>
 </Style>
 </Button.Style>
 <StackPanel Orientation="Horizontal">
 <TextBlock FontFamily="Segoe MDL2 Assets" FontSize="20" Text="&#xE7C3;" Margin="0,0,8,0"/>
 <TextBlock Text="Query Template"/>
 </StackPanel>
 </Button>
 </StackPanel>
 </Grid>
 </Border>
 </Grid>
</Window>
